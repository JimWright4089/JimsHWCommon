//----------------------------------------------------------------------------
//
//  Workfile: tmp117.h
//
//  Copyright: Jim Wright 2024
//
//  Notes:
//     This is the interface to the TMP117
//
//----------------------------------------------------------------------------
#ifndef TMP117_H
#define TMP117_H

//----------------------------------------------------------------------------
//  Includes
//----------------------------------------------------------------------------
#include <string>
#include <mutex>
#include "connection.h"
#include "i2c.h"

//----------------------------------------------------------------------------
//  Class Declarations
//----------------------------------------------------------------------------
//
// Class Name: I2C
// 
// Purpose:
//      Handle the I2C protocol
//
//----------------------------------------------------------------------------
class TMP117
{
  public:

    //----------------------------------------------------------------------------
    //  Class Methods
    //----------------------------------------------------------------------------
    TMP117();  
    ~TMP117();
    void loadConfiguration(std::string filename);
    void openTMP117();
    void closeTMP117();
    double readC();

  protected:
    //----------------------------------------------------------------------------
    //  Class constants
    //----------------------------------------------------------------------------
    const uint8_t TMP117_TEMP_RESULT = 0X00;
    const double  TMP117_C_CONVERSION = 0.0078;

    //----------------------------------------------------------------------------
    //  Class Atributes
    //----------------------------------------------------------------------------
    I2C mI2CDevice;

    //----------------------------------------------------------------------------
    //  Class Methods
    //----------------------------------------------------------------------------
};
#endif
